<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Consumer Pay - Smart Money Management</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#1d3557" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="mobile-web-app-capable" content="yes" />
    <link rel="icon" href="icons/app-icon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="icons/app-icon.svg" />
  </head>
  <body>
    <div class="page">
      <header class="top-bar">
        <div class="brand">
          <img src="icons/app-icon.svg" alt="Consumer Pay" class="brand-mark" />
          <span class="brand-name">Consumer Pay</span>
        </div>
        <div class="top-actions">
          <button class="btn ghost" type="button" data-restart>
            Start Fresh
          </button>
        </div>
      </header>

      <main class="flow">
        <section class="screen is-active" data-screen="welcome">
          <div class="welcome-hero">
            <div class="welcome-content">
              <p class="eyebrow animate-in">Smart money management</p>
              <h1 class="animate-in delay-1">Take control of your finances with confidence</h1>
              <p class="lede animate-in delay-2">
                Enter your UK salary, set your budget, and watch your financial future unfold.
                We'll help you understand exactly where your money goes and how to reach your goals faster.
              </p>
              <div class="cta-row animate-in delay-3">
                <button class="btn primary large" type="button" data-next>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                  </svg>
                  Get Started
                </button>
              </div>
              <div class="feature-pills animate-in delay-4">
                <span class="feature-pill">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="3" width="20" height="14" rx="2"/><path d="M2 10h20"/>
                  </svg>
                  UK Tax Calculator
                </span>
                <span class="feature-pill">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
                  </svg>
                  Budget Breakdown
                </span>
                <span class="feature-pill">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                  </svg>
                  Cash Flow Analysis
                </span>
                <span class="feature-pill">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/>
                  </svg>
                  Goal Tracking
                </span>
              </div>
            </div>
            <div class="welcome-visual">
              <div class="hero-card primary">
                <div class="hero-icon hero-icon-animated">
                  <svg width="36" height="36" viewBox="0 0 24 24" class="icon-pound-animated">
                    <defs>
                      <linearGradient id="hero-pound-grad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fff" stop-opacity="0.9"/>
                        <stop offset="100%" stop-color="#fff" stop-opacity="0.7"/>
                      </linearGradient>
                    </defs>
                    <!-- Pound sign -->
                    <text x="12" y="17" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="url(#hero-pound-grad)" text-anchor="middle">£</text>
                    <!-- Animated coins -->
                    <circle class="coin coin-1" cx="19" cy="6" r="2.5" fill="#fcd34d" opacity="0.9"/>
                    <circle class="coin coin-2" cx="5" cy="8" r="2" fill="#fcd34d" opacity="0.7"/>
                    <circle class="coin coin-3" cx="18" cy="18" r="1.5" fill="#fcd34d" opacity="0.8"/>
                    <!-- Sparkles -->
                    <circle class="sparkle sparkle-1" cx="20" cy="4" r="1" fill="#fff"/>
                    <circle class="sparkle sparkle-2" cx="4" cy="6" r="0.8" fill="#fff"/>
                  </svg>
                </div>
                <p class="hero-label">Monthly Take-Home</p>
                <p class="hero-value">See your real income</p>
              </div>
              <div class="hero-card secondary">
                <div class="hero-icon hero-icon-animated">
                  <svg width="36" height="36" viewBox="0 0 24 24" class="icon-projections-animated">
                    <defs>
                      <linearGradient id="hero-proj-grad" x1="0%" y1="100%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#fff" stop-opacity="0.6"/>
                        <stop offset="100%" stop-color="#fff" stop-opacity="1"/>
                      </linearGradient>
                    </defs>
                    <!-- Crystal ball base -->
                    <ellipse cx="12" cy="20" rx="5" ry="1.5" fill="#fff" opacity="0.3"/>
                    <!-- Crystal ball -->
                    <circle cx="12" cy="12" r="8" fill="url(#hero-proj-grad)" opacity="0.2"/>
                    <circle cx="12" cy="12" r="6" fill="none" stroke="#fff" stroke-width="1.5" opacity="0.8"/>
                    <!-- Growth chart inside -->
                    <path class="chart-line" d="M7 15 L10 12 L13 14 L17 8" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <!-- Arrow pointing up -->
                    <path class="growth-arrow" d="M15 10 L17 8 L17 11" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <!-- Sparkles around ball -->
                    <circle class="sparkle sparkle-1" cx="19" cy="6" r="1" fill="#fff"/>
                    <circle class="sparkle sparkle-2" cx="5" cy="8" r="0.8" fill="#fff"/>
                    <circle class="sparkle sparkle-3" cx="18" cy="16" r="0.6" fill="#fff"/>
                  </svg>
                </div>
                <p class="hero-label">Smart Projections</p>
                <p class="hero-value">30-year forecasting</p>
              </div>
              <div class="hero-card tertiary">
                <div class="hero-icon hero-icon-animated">
                  <svg width="36" height="36" viewBox="0 0 24 24" class="icon-personalized-animated">
                    <!-- Slider tracks (background) -->
                    <rect x="4" y="5" width="16" height="2" rx="1" fill="#1d3557" opacity="0.2"/>
                    <rect x="4" y="11" width="16" height="2" rx="1" fill="#1d3557" opacity="0.2"/>
                    <rect x="4" y="17" width="16" height="2" rx="1" fill="#1d3557" opacity="0.2"/>

                    <!-- Slider fills (animated) -->
                    <rect class="slider-fill slider-1" x="4" y="5" width="12" height="2" rx="1" fill="#1d3557"/>
                    <rect class="slider-fill slider-2" x="4" y="11" width="8" height="2" rx="1" fill="#2a9d8f"/>
                    <rect class="slider-fill slider-3" x="4" y="17" width="14" height="2" rx="1" fill="#ec4899"/>

                    <!-- Slider knobs (animated) -->
                    <circle class="slider-knob knob-1" cx="16" cy="6" r="3" fill="#1d3557"/>
                    <circle class="slider-knob knob-2" cx="12" cy="12" r="3" fill="#2a9d8f"/>
                    <circle class="slider-knob knob-3" cx="18" cy="18" r="3" fill="#ec4899"/>

                    <!-- Knob highlights -->
                    <circle cx="15" cy="5" r="1" fill="#fff" opacity="0.4"/>
                    <circle cx="11" cy="11" r="1" fill="#fff" opacity="0.4"/>
                    <circle cx="17" cy="17" r="1" fill="#fff" opacity="0.4"/>

                    <!-- Sparkles -->
                    <circle class="sparkle sparkle-1" cx="21" cy="3" r="1" fill="#fcd34d"/>
                    <circle class="sparkle sparkle-2" cx="2" cy="12" r="0.8" fill="#fcd34d"/>
                  </svg>
                </div>
                <p class="hero-label">Personalized</p>
                <p class="hero-value">Tailored to you</p>
              </div>
            </div>
          </div>
        </section>

        <section class="screen" data-screen="login">
          <div class="screen-card">
            <h2>Sign in</h2>
            <p class="muted">
              All journeys are consumer-first and built around your goals.
            </p>
            <form class="form-grid">
              <label for="signin-email">
                Email
                <input id="signin-email" type="email" placeholder="you@email.com" autocomplete="email" aria-label="Email address" />
              </label>
              <label for="signin-password">
                Password
                <input id="signin-password" type="password" placeholder="Your password" autocomplete="current-password" aria-label="Password" />
              </label>
              <button class="btn secondary" type="button">
                Continue with Apple
              </button>
            </form>
            <div class="screen-actions">
              <button class="btn ghost" type="button" data-back>Back</button>
              <button class="btn primary" type="button" data-next>
                Continue
              </button>
            </div>
          </div>
        </section>

        <section class="screen" data-screen="focus">
          <div class="screen-card">
            <div class="screen-header">
              <span class="step-badge">Step 1 of 4</span>
              <h2>Let's personalise your experience</h2>
              <p class="muted">
                Tell us a bit about yourself so we can tailor your financial plan.
              </p>
            </div>
            <div class="form-grid">
              <label>
                What should we call you?
                <input type="text" placeholder="Your first name" data-field="name" />
              </label>
              <div>
                <p class="field-label">What's your main financial focus?</p>
                <div class="choice-group" data-choice-group="focus">
                  <button type="button" data-value="saving">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z"/>
                      <path d="M2 9v1c0 1.1.9 2 2 2h1"/>
                    </svg>
                    Save more
                  </button>
                  <button type="button" data-value="investing">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                    </svg>
                    Start investing
                  </button>
                  <button type="button" data-value="protection">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    Protect family
                  </button>
                  <button type="button" data-value="income">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
                    </svg>
                    Grow income
                  </button>
                </div>
              </div>
              <div>
                <p class="field-label">How far ahead are you planning?</p>
                <div class="choice-group" data-choice-group="horizon">
                  <button type="button" data-value="short">0-2 years</button>
                  <button type="button" data-value="mid">2-7 years</button>
                  <button type="button" data-value="long">7+ years</button>
                </div>
              </div>
              <div>
                <p class="field-label">What's your money style?</p>
                <div class="choice-group persona-group" data-choice-group="persona">
                  <button type="button" data-value="builder">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
                      <rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/>
                    </svg>
                    Builder
                  </button>
                  <button type="button" data-value="balancer">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/><path d="M8 12h8M12 8v8"/>
                    </svg>
                    Balancer
                  </button>
                  <button type="button" data-value="protector">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    Protector
                  </button>
                  <button type="button" data-value="explorer">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/>
                    </svg>
                    Explorer
                  </button>
                </div>
                <div class="persona-preview">
                  <p class="persona-label">Your money personality</p>
                  <h3 data-persona-title>Builder</h3>
                  <p data-persona-copy>
                    You like structure, measurable goals, and automated progress.
                  </p>
                  <div class="persona-tags" data-persona-tags>
                    <span>Goal focused</span>
                    <span>Auto save</span>
                    <span>Long term clarity</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="screen-actions">
              <button class="btn ghost" type="button" data-back>Back</button>
              <button class="btn primary" type="button" data-next>
                Continue
              </button>
            </div>
          </div>
        </section>

        <section class="screen" data-screen="snapshot">
          <div class="screen-card salary-card">
            <div class="screen-header">
              <span class="step-badge">Step 2 of 4</span>
              <h2>Your UK Salary Calculator</h2>
              <p class="muted">
                Enter your annual salary and we'll calculate your monthly take-home pay after tax and National Insurance.
              </p>
            </div>

            <div class="salary-calculator">
              <div class="salary-input-section">
                <label class="salary-label">
                  <span class="label-text">Annual Gross Salary</span>
                  <div class="salary-input-wrap">
                    <span class="currency-symbol">£</span>
                    <input type="number" min="0" step="1000" placeholder="45000" data-field="annualSalary" class="salary-input" />
                    <span class="per-year">per year</span>
                  </div>
                </label>

                <label class="tax-code-label">
                  <span class="label-text">Tax Code <span class="optional">(optional)</span></span>
                  <div class="tax-code-input-wrap">
                    <input type="text" placeholder="1257L" data-field="taxCode" class="tax-code-input" maxlength="10" />
                    <span class="tax-code-hint" data-tax-code-hint>Found on your payslip</span>
                  </div>
                </label>

                <div class="tax-options">
                  <label class="toggle-option">
                    <input type="checkbox" data-field="studentLoan" />
                    <span>Student Loan (Plan 2)</span>
                  </label>
                  <label class="toggle-option">
                    <input type="checkbox" data-field="pensionContrib" />
                    <span>Pension (5%)</span>
                  </label>
                </div>
              </div>

              <div class="salary-breakdown" data-salary-breakdown>
                <div class="breakdown-header">
                  <h3>Your Monthly Breakdown</h3>
                  <p class="muted">Based on 2024/25 UK tax rates</p>
                </div>

                <div class="breakdown-visual">
                  <div class="salary-ring" data-salary-ring>
                    <svg viewBox="0 0 200 200" class="ring-svg">
                      <circle cx="100" cy="100" r="80" class="ring-bg"/>
                      <circle cx="100" cy="100" r="80" class="ring-tax" data-ring-tax/>
                      <circle cx="100" cy="100" r="80" class="ring-ni" data-ring-ni/>
                      <circle cx="100" cy="100" r="80" class="ring-take-home" data-ring-takehome/>
                    </svg>
                    <div class="ring-center">
                      <p class="ring-label">Take Home</p>
                      <p class="ring-value" data-monthly-takehome>£0</p>
                      <p class="ring-subtext">per month</p>
                    </div>
                  </div>

                  <div class="breakdown-details">
                    <div class="breakdown-row gross">
                      <span class="breakdown-label">Gross Monthly</span>
                      <span class="breakdown-value" data-monthly-gross>£0</span>
                    </div>
                    <div class="breakdown-row deduction">
                      <span class="breakdown-label">
                        <span class="color-dot tax"></span>
                        Income Tax
                      </span>
                      <span class="breakdown-value" data-monthly-tax>-£0</span>
                    </div>
                    <div class="breakdown-row deduction">
                      <span class="breakdown-label">
                        <span class="color-dot ni"></span>
                        National Insurance
                      </span>
                      <span class="breakdown-value" data-monthly-ni>-£0</span>
                    </div>
                    <div class="breakdown-row deduction" data-student-loan-row style="display:none;">
                      <span class="breakdown-label">
                        <span class="color-dot student"></span>
                        Student Loan
                      </span>
                      <span class="breakdown-value" data-monthly-student>-£0</span>
                    </div>
                    <div class="breakdown-row deduction" data-pension-row style="display:none;">
                      <span class="breakdown-label">
                        <span class="color-dot pension"></span>
                        Pension (5%)
                      </span>
                      <span class="breakdown-value" data-monthly-pension>-£0</span>
                    </div>
                    <div class="breakdown-row takehome">
                      <span class="breakdown-label">
                        <span class="color-dot takehome"></span>
                        Net Take-Home
                      </span>
                      <span class="breakdown-value" data-monthly-net>£0</span>
                    </div>
                  </div>
                </div>

                <div class="tax-band-indicator" data-tax-band>
                  <span class="band-label">Tax Band:</span>
                  <span class="band-value" data-band-name>Basic Rate (20%)</span>
                </div>
              </div>
            </div>

            <div class="screen-actions">
              <button class="btn ghost" type="button" data-back>Back</button>
              <button class="btn primary" type="button" data-next>
                Continue to Budget
              </button>
            </div>
          </div>
        </section>

        <section class="screen" data-screen="budget">
          <div class="screen-card budget-card">
            <div class="screen-header">
              <span class="step-badge">Step 3 of 4</span>
              <h2>Where does your money go?</h2>
              <p class="muted">
                Break down your monthly expenses. We'll show you what's left for savings and goals.
              </p>
            </div>

            <div class="budget-summary-bar">
              <div class="budget-income">
                <span class="budget-label">Monthly Income</span>
                <span class="budget-value" data-budget-income>£0</span>
              </div>
              <div class="budget-remaining" data-remaining-indicator>
                <span class="budget-label">Remaining</span>
                <span class="budget-value" data-budget-remaining>£0</span>
              </div>
            </div>

            <div class="expense-categories">
              <div class="expense-category housing">
                <div class="category-header">
                  <div class="category-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="cat-housing-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                        <linearGradient id="cat-housing-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                      </defs>
                      <path d="M3 10.5L12 3l9 7.5V20a2 2 0 01-2 2H5a2 2 0 01-2-2v-9.5z" fill="url(#cat-housing-pink)"/>
                      <rect x="9" y="14" width="6" height="8" rx="0.5" fill="#fff" opacity="0.3"/>
                      <path d="M12 9l-2 2a1.5 1.5 0 102 2 1.5 1.5 0 102-2l-2-2z" fill="#fff" opacity="0.9"/>
                      <circle cx="18" cy="6" r="0.8" fill="url(#cat-housing-gold)"/>
                      <circle cx="6" cy="5" r="0.5" fill="url(#cat-housing-gold)"/>
                    </svg>
                  </div>
                  <div class="category-info">
                    <h4>Housing</h4>
                    <p class="category-total" data-category-total="housing">£0</p>
                  </div>
                  <button class="category-toggle" type="button" data-toggle-category="housing">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"/>
                    </svg>
                  </button>
                </div>
                <div class="category-items" data-category-items="housing">
                  <label class="expense-item">
                    <span>Mortgage / Rent</span>
                    <input type="number" min="0" placeholder="1200" data-expense="mortgage" />
                  </label>
                  <label class="expense-item">
                    <span>Council Tax</span>
                    <input type="number" min="0" placeholder="150" data-expense="councilTax" />
                  </label>
                  <label class="expense-item">
                    <span>Home Insurance</span>
                    <input type="number" min="0" placeholder="40" data-expense="homeInsurance" />
                  </label>
                </div>
              </div>

              <div class="expense-category utilities">
                <div class="category-header">
                  <div class="category-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="cat-util-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                      </defs>
                      <ellipse cx="12" cy="8" rx="7" ry="7" fill="url(#cat-util-gold)" opacity="0.2"/>
                      <path d="M9 21h6M10 17h4" stroke="url(#cat-util-gold)" stroke-width="1.5" stroke-linecap="round"/>
                      <path d="M12 2a6 6 0 00-4 10.5V15a1 1 0 001 1h6a1 1 0 001-1v-2.5A6 6 0 0012 2z" fill="url(#cat-util-gold)"/>
                      <circle cx="10" cy="7" r="1" fill="#fff" opacity="0.8"/>
                      <circle cx="14" cy="9" r="0.6" fill="#fff" opacity="0.6"/>
                      <path d="M10 8q2 1.5 4 0" stroke="#f59e0b" stroke-width="0.8" stroke-linecap="round" fill="none"/>
                    </svg>
                  </div>
                  <div class="category-info">
                    <h4>Utilities & Bills</h4>
                    <p class="category-total" data-category-total="utilities">£0</p>
                  </div>
                  <button class="category-toggle" type="button" data-toggle-category="utilities">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"/>
                    </svg>
                  </button>
                </div>
                <div class="category-items" data-category-items="utilities">
                  <label class="expense-item">
                    <span>Gas & Electric</span>
                    <input type="number" min="0" placeholder="150" data-expense="energy" />
                  </label>
                  <label class="expense-item">
                    <span>Water</span>
                    <input type="number" min="0" placeholder="40" data-expense="water" />
                  </label>
                  <label class="expense-item">
                    <span>Internet & Phone</span>
                    <input type="number" min="0" placeholder="60" data-expense="internet" />
                  </label>
                  <label class="expense-item">
                    <span>TV & Streaming</span>
                    <input type="number" min="0" placeholder="30" data-expense="streaming" />
                  </label>
                </div>
              </div>

              <div class="expense-category transport">
                <div class="category-header">
                  <div class="category-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="cat-trans-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                        </linearGradient>
                        <linearGradient id="cat-trans-navy" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#3b82f6"/><stop offset="100%" stop-color="#1d3557"/>
                        </linearGradient>
                        <linearGradient id="cat-trans-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                        <linearGradient id="cat-trans-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                      </defs>
                      <path d="M5 11l2-4h10l2 4" fill="url(#cat-trans-teal)" opacity="0.3"/>
                      <rect x="3" y="11" width="18" height="6" rx="2" fill="url(#cat-trans-teal)"/>
                      <circle cx="7" cy="17" r="2" fill="url(#cat-trans-navy)"/>
                      <circle cx="17" cy="17" r="2" fill="url(#cat-trans-navy)"/>
                      <circle cx="7" cy="17" r="0.8" fill="#fff" opacity="0.5"/>
                      <circle cx="17" cy="17" r="0.8" fill="#fff" opacity="0.5"/>
                      <circle cx="18" cy="12" r="1" fill="url(#cat-trans-gold)"/>
                      <path d="M1 12h1M1 14h2M1 16h1" stroke="url(#cat-trans-pink)" stroke-width="1" stroke-linecap="round" opacity="0.6"/>
                    </svg>
                  </div>
                  <div class="category-info">
                    <h4>Transport</h4>
                    <p class="category-total" data-category-total="transport">£0</p>
                  </div>
                  <button class="category-toggle" type="button" data-toggle-category="transport">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"/>
                    </svg>
                  </button>
                </div>
                <div class="category-items" data-category-items="transport">
                  <label class="expense-item">
                    <span>Car Payment / Lease</span>
                    <input type="number" min="0" placeholder="250" data-expense="carPayment" />
                  </label>
                  <label class="expense-item">
                    <span>Car Insurance</span>
                    <input type="number" min="0" placeholder="80" data-expense="carInsurance" />
                  </label>
                  <label class="expense-item">
                    <span>Fuel / Charging</span>
                    <input type="number" min="0" placeholder="150" data-expense="fuel" />
                  </label>
                  <label class="expense-item">
                    <span>Public Transport</span>
                    <input type="number" min="0" placeholder="100" data-expense="publicTransport" />
                  </label>
                </div>
              </div>

              <div class="expense-category food">
                <div class="category-header">
                  <div class="category-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="cat-food-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                        </linearGradient>
                        <linearGradient id="cat-food-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                      </defs>
                      <path d="M6 6h12l-1 14a2 2 0 01-2 2H9a2 2 0 01-2-2L6 6z" fill="url(#cat-food-teal)"/>
                      <path d="M9 6V4a3 3 0 016 0v2" stroke="url(#cat-food-teal)" stroke-width="2" fill="none"/>
                      <circle cx="12" cy="13" r="3.5" fill="url(#cat-food-pink)"/>
                      <path d="M12 10c1-1 2-1 2.5-0.5" stroke="#2a9d8f" stroke-width="1" stroke-linecap="round"/>
                      <ellipse cx="12" cy="10.5" rx="0.8" ry="1.2" fill="#2a9d8f"/>
                      <circle cx="10.5" cy="12.5" r="0.5" fill="#fff" opacity="0.5"/>
                    </svg>
                  </div>
                  <div class="category-info">
                    <h4>Food & Groceries</h4>
                    <p class="category-total" data-category-total="food">£0</p>
                  </div>
                  <button class="category-toggle" type="button" data-toggle-category="food">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"/>
                    </svg>
                  </button>
                </div>
                <div class="category-items" data-category-items="food">
                  <label class="expense-item">
                    <span>Groceries</span>
                    <input type="number" min="0" placeholder="400" data-expense="groceries" />
                  </label>
                  <label class="expense-item">
                    <span>Dining Out</span>
                    <input type="number" min="0" placeholder="100" data-expense="diningOut" />
                  </label>
                  <label class="expense-item">
                    <span>Coffee & Snacks</span>
                    <input type="number" min="0" placeholder="50" data-expense="coffeeSnacks" />
                  </label>
                </div>
              </div>

              <div class="expense-category family">
                <div class="category-header">
                  <div class="category-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="cat-fam-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                        <linearGradient id="cat-fam-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                        <linearGradient id="cat-fam-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                        </linearGradient>
                      </defs>
                      <circle cx="9" cy="6" r="3.5" fill="url(#cat-fam-pink)"/>
                      <path d="M9 10c-4 0-6 2.5-6 5.5V20h12v-4.5c0-3-2-5.5-6-5.5z" fill="url(#cat-fam-pink)" opacity="0.85"/>
                      <circle cx="17" cy="10" r="2.5" fill="url(#cat-fam-gold)"/>
                      <path d="M17 13c-2.5 0-4 2-4 4v3h8v-3c0-2-1.5-4-4-4z" fill="url(#cat-fam-gold)" opacity="0.85"/>
                      <circle cx="9" cy="5.5" r="0.5" fill="#fff" opacity="0.5"/>
                      <circle cx="17" cy="9.5" r="0.4" fill="#fff" opacity="0.5"/>
                      <circle cx="5" cy="3" r="0.6" fill="url(#cat-fam-teal)"/>
                    </svg>
                  </div>
                  <div class="category-info">
                    <h4>Family & Children</h4>
                    <p class="category-total" data-category-total="family">£0</p>
                  </div>
                  <button class="category-toggle" type="button" data-toggle-category="family">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"/>
                    </svg>
                  </button>
                </div>
                <div class="category-items" data-category-items="family">
                  <label class="expense-item">
                    <span>Childcare / Nursery</span>
                    <input type="number" min="0" placeholder="800" data-expense="childcare" />
                  </label>
                  <label class="expense-item">
                    <span>Kids Activities & Clubs</span>
                    <input type="number" min="0" placeholder="150" data-expense="kidsActivities" />
                  </label>
                  <label class="expense-item">
                    <span>School Costs</span>
                    <input type="number" min="0" placeholder="50" data-expense="schoolCosts" />
                  </label>
                  <label class="expense-item">
                    <span>Kids Clothing</span>
                    <input type="number" min="0" placeholder="40" data-expense="kidsClothing" />
                  </label>
                </div>
              </div>

              <div class="expense-category personal">
                <div class="category-header">
                  <div class="category-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="cat-pers-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                        <linearGradient id="cat-pers-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                        <linearGradient id="cat-pers-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                        </linearGradient>
                      </defs>
                      <circle cx="7" cy="18" r="3" fill="url(#cat-pers-pink)"/>
                      <path d="M10 18V6l8-3v12" fill="none" stroke="url(#cat-pers-pink)" stroke-width="2"/>
                      <circle cx="18" cy="15" r="3" fill="url(#cat-pers-pink)" opacity="0.8"/>
                      <path d="M14 7l-2 2a1 1 0 101.5 1.5 1 1 0 101.5-1.5l-1-2z" fill="url(#cat-pers-gold)"/>
                      <circle cx="7" cy="17.5" r="0.5" fill="#fff" opacity="0.5"/>
                      <circle cx="4" cy="10" r="0.7" fill="url(#cat-pers-gold)"/>
                      <circle cx="20" cy="8" r="0.5" fill="url(#cat-pers-teal)"/>
                    </svg>
                  </div>
                  <div class="category-info">
                    <h4>Personal & Lifestyle</h4>
                    <p class="category-total" data-category-total="personal">£0</p>
                  </div>
                  <button class="category-toggle" type="button" data-toggle-category="personal">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"/>
                    </svg>
                  </button>
                </div>
                <div class="category-items" data-category-items="personal">
                  <label class="expense-item">
                    <span>Gym & Fitness</span>
                    <input type="number" min="0" placeholder="40" data-expense="gym" />
                  </label>
                  <label class="expense-item">
                    <span>Clothing</span>
                    <input type="number" min="0" placeholder="75" data-expense="clothing" />
                  </label>
                  <label class="expense-item">
                    <span>Personal Care</span>
                    <input type="number" min="0" placeholder="50" data-expense="personalCare" />
                  </label>
                  <label class="expense-item">
                    <span>Entertainment</span>
                    <input type="number" min="0" placeholder="100" data-expense="entertainment" />
                  </label>
                  <label class="expense-item">
                    <span>Subscriptions</span>
                    <input type="number" min="0" placeholder="30" data-expense="subscriptions" />
                  </label>
                </div>
              </div>

              <div class="expense-category debt">
                <div class="category-header">
                  <div class="category-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="cat-debt-navy" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#3b82f6"/><stop offset="100%" stop-color="#1d3557"/>
                        </linearGradient>
                        <linearGradient id="cat-debt-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                        <linearGradient id="cat-debt-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                      </defs>
                      <ellipse cx="7" cy="12" rx="4" ry="5" fill="none" stroke="url(#cat-debt-navy)" stroke-width="3"/>
                      <ellipse cx="17" cy="12" rx="4" ry="5" fill="none" stroke="url(#cat-debt-navy)" stroke-width="3"/>
                      <path d="M10 10l4 4M10 14l4-4" stroke="url(#cat-debt-pink)" stroke-width="2" stroke-linecap="round"/>
                      <circle cx="12" cy="12" r="2" fill="url(#cat-debt-gold)"/>
                      <circle cx="3" cy="8" r="0.7" fill="url(#cat-debt-gold)"/>
                      <circle cx="21" cy="16" r="0.7" fill="url(#cat-debt-gold)"/>
                    </svg>
                  </div>
                  <div class="category-info">
                    <h4>Debt Repayments</h4>
                    <p class="category-total" data-category-total="debt">£0</p>
                  </div>
                  <button class="category-toggle" type="button" data-toggle-category="debt">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"/>
                    </svg>
                  </button>
                </div>
                <div class="category-items" data-category-items="debt">
                  <label class="expense-item">
                    <span>Credit Cards</span>
                    <input type="number" min="0" placeholder="100" data-expense="creditCards" />
                  </label>
                  <label class="expense-item">
                    <span>Personal Loans</span>
                    <input type="number" min="0" placeholder="150" data-expense="personalLoans" />
                  </label>
                  <label class="expense-item">
                    <span>Other Debt</span>
                    <input type="number" min="0" placeholder="0" data-expense="otherDebt" />
                  </label>
                </div>
              </div>

              <div class="expense-category savings">
                <div class="category-header">
                  <div class="category-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="cat-sav-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                        <linearGradient id="cat-sav-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                      </defs>
                      <ellipse cx="11" cy="14" rx="7" ry="5" fill="url(#cat-sav-pink)"/>
                      <circle cx="16" cy="11" r="3.5" fill="url(#cat-sav-pink)"/>
                      <ellipse cx="19" cy="12" rx="2" ry="1.3" fill="#fda4af"/>
                      <circle cx="18" cy="11.8" r="0.5" fill="#db2777"/>
                      <circle cx="20" cy="11.8" r="0.5" fill="#db2777"/>
                      <circle cx="16.5" cy="9.5" r="0.8" fill="#1d3557"/>
                      <circle cx="16.7" cy="9.3" r="0.25" fill="#fff"/>
                      <ellipse cx="15" cy="7" rx="1" ry="1.5" fill="#db2777" transform="rotate(-15 15 7)"/>
                      <rect x="8" y="9" width="3" height="1" rx="0.5" fill="#db2777"/>
                      <ellipse cx="10" cy="6" rx="2" ry="2" fill="url(#cat-sav-gold)"/>
                      <text x="10" y="7.5" font-family="Arial" font-size="3" font-weight="bold" fill="#92400e" text-anchor="middle">£</text>
                      <ellipse cx="6" cy="18" rx="1" ry="1.5" fill="#db2777"/>
                      <ellipse cx="9" cy="19" rx="1" ry="1.5" fill="#db2777"/>
                      <ellipse cx="13" cy="19" rx="1" ry="1.5" fill="#db2777"/>
                      <ellipse cx="16" cy="17" rx="1" ry="1.5" fill="#db2777"/>
                      <path d="M4 13q-2-1-1.5 1t1.5 2" stroke="#db2777" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                    </svg>
                  </div>
                  <div class="category-info">
                    <h4>Current Savings</h4>
                    <p class="category-total" data-category-total="savings">£0</p>
                  </div>
                  <button class="category-toggle" type="button" data-toggle-category="savings">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"/>
                    </svg>
                  </button>
                </div>
                <div class="category-items" data-category-items="savings">
                  <label class="expense-item">
                    <span>Emergency Fund (current balance)</span>
                    <input type="number" min="0" placeholder="5000" data-field="savings" />
                  </label>
                </div>
              </div>
            </div>

            <div class="budget-visualization">
              <h4>Your Money Flow</h4>
              <div class="flow-chart" data-flow-chart>
                <div class="flow-bar income-bar">
                  <span class="flow-label">Income</span>
                  <div class="flow-fill" data-flow-income></div>
                  <span class="flow-amount" data-flow-income-amount>£0</span>
                </div>
                <div class="flow-bar expenses-bar">
                  <span class="flow-label">Expenses</span>
                  <div class="flow-fill" data-flow-expenses></div>
                  <span class="flow-amount" data-flow-expenses-amount>£0</span>
                </div>
                <div class="flow-bar surplus-bar">
                  <span class="flow-label">Available</span>
                  <div class="flow-fill" data-flow-surplus></div>
                  <span class="flow-amount" data-flow-surplus-amount>£0</span>
                </div>
              </div>
            </div>

            <div class="screen-actions">
              <button class="btn ghost" type="button" data-back>Back</button>
              <button class="btn primary" type="button" data-next>
                Set Your Goals
              </button>
            </div>
          </div>
        </section>

        <section class="screen" data-screen="goals">
          <div class="screen-card goals-card">
            <div class="screen-header">
              <span class="step-badge">Step 4 of 4</span>
              <h2>What are you saving for?</h2>
              <p class="muted">
                Select your financial goals and set target amounts. We'll create a personalised plan to help you achieve them.
              </p>
            </div>

            <div class="surplus-banner" data-surplus-banner>
              <div class="surplus-icon">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
                </svg>
              </div>
              <div class="surplus-info">
                <p class="surplus-label">Available to save each month</p>
                <p class="surplus-amount" data-goals-surplus>£0</p>
              </div>
            </div>

            <div class="goal-grid">
              <label class="goal-card" data-goal-card>
                <input type="checkbox" data-goal-check value="Emergency buffer" />
                <div class="goal-icon emergency">
                  <svg width="32" height="32" viewBox="0 0 24 24">
                    <defs>
                      <linearGradient id="goal-em-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                      </linearGradient>
                      <linearGradient id="goal-em-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                      </linearGradient>
                    </defs>
                    <path d="M12 2l8 4v6c0 5.5-3.5 10-8 12-4.5-2-8-6.5-8-12V6l8-4z" fill="url(#goal-em-teal)"/>
                    <path d="M12 13v5M10 18h4" stroke="#fff" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M8 10c0-2 2-4 4-4s4 2 4 4" stroke="#fff" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                    <circle cx="6" cy="4" r="0.8" fill="url(#goal-em-gold)"/>
                    <circle cx="18" cy="5" r="0.6" fill="url(#goal-em-gold)"/>
                  </svg>
                </div>
                <div class="goal-content">
                  <span class="goal-name">Emergency Fund</span>
                  <span class="goal-desc">3-6 months of expenses for unexpected costs</span>
                </div>
                <div class="goal-target-wrap">
                  <span class="goal-target-label">Target</span>
                  <div class="goal-input-wrap">
                    <span>£</span>
                    <input type="number" min="0" placeholder="9000" data-goal-target />
                  </div>
                </div>
              </label>

              <label class="goal-card" data-goal-card>
                <input type="checkbox" data-goal-check value="Home deposit" />
                <div class="goal-icon home">
                  <svg width="32" height="32" viewBox="0 0 24 24">
                    <defs>
                      <linearGradient id="goal-home-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                      </linearGradient>
                      <linearGradient id="goal-home-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                      </linearGradient>
                    </defs>
                    <path d="M4 12l8-7 8 7v8a2 2 0 01-2 2H6a2 2 0 01-2-2v-8z" fill="url(#goal-home-pink)" opacity="0.3"/>
                    <circle cx="14" cy="8" r="4" fill="url(#goal-home-gold)"/>
                    <path d="M14 12v8" stroke="url(#goal-home-gold)" stroke-width="2.5" stroke-linecap="round"/>
                    <path d="M14 16h3M14 19h2" stroke="url(#goal-home-gold)" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="14" cy="7" r="1.5" fill="none" stroke="#f59e0b" stroke-width="1"/>
                    <circle cx="6" cy="6" r="1" fill="url(#goal-home-pink)"/>
                    <circle cx="8" cy="4" r="0.5" fill="url(#goal-home-gold)"/>
                  </svg>
                </div>
                <div class="goal-content">
                  <span class="goal-name">Home Deposit</span>
                  <span class="goal-desc">Save towards your dream home</span>
                </div>
                <div class="goal-target-wrap">
                  <span class="goal-target-label">Target</span>
                  <div class="goal-input-wrap">
                    <span>£</span>
                    <input type="number" min="0" placeholder="25000" data-goal-target />
                  </div>
                </div>
              </label>

              <label class="goal-card" data-goal-card>
                <input type="checkbox" data-goal-check value="Family holiday" />
                <div class="goal-icon holiday">
                  <svg width="32" height="32" viewBox="0 0 24 24">
                    <defs>
                      <linearGradient id="goal-hol-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                      </linearGradient>
                      <linearGradient id="goal-hol-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                      </linearGradient>
                      <linearGradient id="goal-hol-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                      </linearGradient>
                    </defs>
                    <circle cx="18" cy="6" r="4" fill="url(#goal-hol-gold)"/>
                    <path d="M17 5l1 1M19 4l1 0.5M20 6l0.5 1" stroke="#fff" stroke-width="0.8" stroke-linecap="round" opacity="0.7"/>
                    <path d="M2 14l4-2 6 2 8-4 2 1-3 5-7-1-5 3-5-2v-2z" fill="url(#goal-hol-teal)"/>
                    <path d="M8 12l2-4 2 4" fill="url(#goal-hol-teal)" opacity="0.8"/>
                    <circle cx="4" cy="19" r="0.6" fill="url(#goal-hol-pink)"/>
                    <circle cx="14" cy="20" r="0.5" fill="url(#goal-hol-gold)"/>
                  </svg>
                </div>
                <div class="goal-content">
                  <span class="goal-name">Family Holiday</span>
                  <span class="goal-desc">Create lasting memories together</span>
                </div>
                <div class="goal-target-wrap">
                  <span class="goal-target-label">Target</span>
                  <div class="goal-input-wrap">
                    <span>£</span>
                    <input type="number" min="0" placeholder="4000" data-goal-target />
                  </div>
                </div>
              </label>

              <label class="goal-card" data-goal-card>
                <input type="checkbox" data-goal-check value="Education" />
                <div class="goal-icon education">
                  <svg width="32" height="32" viewBox="0 0 24 24">
                    <defs>
                      <linearGradient id="goal-edu-navy" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#3b82f6"/><stop offset="100%" stop-color="#1d3557"/>
                      </linearGradient>
                      <linearGradient id="goal-edu-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                      </linearGradient>
                      <linearGradient id="goal-edu-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                      </linearGradient>
                    </defs>
                    <path d="M12 3L2 8l10 5 10-5-10-5z" fill="url(#goal-edu-navy)"/>
                    <path d="M6 10v6c0 2 2.5 4 6 4s6-2 6-4v-6" fill="none" stroke="url(#goal-edu-navy)" stroke-width="2"/>
                    <path d="M20 8v7" stroke="url(#goal-edu-gold)" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="20" cy="17" r="2" fill="url(#goal-edu-gold)"/>
                    <circle cx="5" cy="5" r="0.6" fill="url(#goal-edu-pink)"/>
                    <circle cx="19" cy="3" r="0.5" fill="url(#goal-edu-pink)"/>
                  </svg>
                </div>
                <div class="goal-content">
                  <span class="goal-name">Education Fund</span>
                  <span class="goal-desc">Invest in your future or your children's</span>
                </div>
                <div class="goal-target-wrap">
                  <span class="goal-target-label">Target</span>
                  <div class="goal-input-wrap">
                    <span>£</span>
                    <input type="number" min="0" placeholder="10000" data-goal-target />
                  </div>
                </div>
              </label>

              <label class="goal-card" data-goal-card>
                <input type="checkbox" data-goal-check value="New car" />
                <div class="goal-icon car">
                  <svg width="32" height="32" viewBox="0 0 24 24">
                    <defs>
                      <linearGradient id="goal-car-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                      </linearGradient>
                      <linearGradient id="goal-car-navy" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#3b82f6"/><stop offset="100%" stop-color="#1d3557"/>
                      </linearGradient>
                      <linearGradient id="goal-car-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                      </linearGradient>
                    </defs>
                    <path d="M5 11l2.5-4h9l2.5 4" fill="url(#goal-car-teal)" opacity="0.5"/>
                    <rect x="3" y="11" width="18" height="6" rx="2" fill="url(#goal-car-teal)"/>
                    <circle cx="7" cy="17" r="2.5" fill="url(#goal-car-navy)"/>
                    <circle cx="17" cy="17" r="2.5" fill="url(#goal-car-navy)"/>
                    <circle cx="7" cy="17" r="1" fill="#fff" opacity="0.3"/>
                    <circle cx="17" cy="17" r="1" fill="#fff" opacity="0.3"/>
                    <circle cx="5" cy="5" r="2" fill="url(#goal-car-gold)"/>
                    <path d="M5 7v3" stroke="url(#goal-car-gold)" stroke-width="1.5" stroke-linecap="round"/>
                    <circle cx="18" cy="13" r="1" fill="url(#goal-car-gold)"/>
                  </svg>
                </div>
                <div class="goal-content">
                  <span class="goal-name">New Car</span>
                  <span class="goal-desc">Save for your next vehicle</span>
                </div>
                <div class="goal-target-wrap">
                  <span class="goal-target-label">Target</span>
                  <div class="goal-input-wrap">
                    <span>£</span>
                    <input type="number" min="0" placeholder="15000" data-goal-target />
                  </div>
                </div>
              </label>

              <label class="goal-card" data-goal-card>
                <input type="checkbox" data-goal-check value="Retirement" />
                <div class="goal-icon retirement">
                  <svg width="32" height="32" viewBox="0 0 24 24">
                    <defs>
                      <linearGradient id="goal-ret-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                      </linearGradient>
                      <linearGradient id="goal-ret-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                      </linearGradient>
                      <linearGradient id="goal-ret-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                      </linearGradient>
                    </defs>
                    <path d="M0 16h24v6H0z" fill="url(#goal-ret-teal)" opacity="0.3"/>
                    <circle cx="12" cy="10" r="6" fill="url(#goal-ret-gold)"/>
                    <path d="M8 9l1 1M16 9l-1 1M12 5v2" stroke="#fff" stroke-width="1" stroke-linecap="round" opacity="0.8"/>
                    <path d="M4 16l3 5h2l-1-5" fill="url(#goal-ret-pink)"/>
                    <path d="M4 16h5l-1 2H5" fill="url(#goal-ret-pink)" opacity="0.8"/>
                    <circle cx="18" cy="20" r="1.5" fill="url(#goal-ret-teal)"/>
                    <circle cx="20" cy="6" r="0.6" fill="url(#goal-ret-pink)"/>
                  </svg>
                </div>
                <div class="goal-content">
                  <span class="goal-name">Retirement</span>
                  <span class="goal-desc">Build your long-term wealth</span>
                </div>
                <div class="goal-target-wrap">
                  <span class="goal-target-label">Target</span>
                  <div class="goal-input-wrap">
                    <span>£</span>
                    <input type="number" min="0" placeholder="100000" data-goal-target />
                  </div>
                </div>
              </label>

              <label class="goal-card" data-goal-card>
                <input type="checkbox" data-goal-check value="Wedding" />
                <div class="goal-icon wedding">
                  <svg width="32" height="32" viewBox="0 0 24 24">
                    <defs>
                      <linearGradient id="goal-wed-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                      </linearGradient>
                      <linearGradient id="goal-wed-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                      </linearGradient>
                      <linearGradient id="goal-wed-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                      </linearGradient>
                    </defs>
                    <circle cx="9" cy="13" r="5" fill="none" stroke="url(#goal-wed-gold)" stroke-width="2.5"/>
                    <circle cx="15" cy="13" r="5" fill="none" stroke="url(#goal-wed-pink)" stroke-width="2.5"/>
                    <circle cx="9" cy="11" r="0.8" fill="url(#goal-wed-gold)"/>
                    <circle cx="15" cy="11" r="0.8" fill="url(#goal-wed-pink)"/>
                    <path d="M12 3l-1.5 1.5a2 2 0 102.5 2.5 2 2 0 102.5-2.5L12 3z" fill="url(#goal-wed-pink)"/>
                    <circle cx="5" cy="6" r="0.6" fill="url(#goal-wed-gold)"/>
                    <circle cx="19" cy="5" r="0.5" fill="url(#goal-wed-gold)"/>
                    <circle cx="12" cy="20" r="0.7" fill="url(#goal-wed-teal)"/>
                  </svg>
                </div>
                <div class="goal-content">
                  <span class="goal-name">Wedding</span>
                  <span class="goal-desc">Plan your perfect day</span>
                </div>
                <div class="goal-target-wrap">
                  <span class="goal-target-label">Target</span>
                  <div class="goal-input-wrap">
                    <span>£</span>
                    <input type="number" min="0" placeholder="20000" data-goal-target />
                  </div>
                </div>
              </label>

              <label class="goal-card" data-goal-card>
                <input type="checkbox" data-goal-check value="Home improvements" />
                <div class="goal-icon improvements">
                  <svg width="32" height="32" viewBox="0 0 24 24">
                    <defs>
                      <linearGradient id="goal-imp-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                      </linearGradient>
                      <linearGradient id="goal-imp-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                      </linearGradient>
                      <linearGradient id="goal-imp-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                      </linearGradient>
                    </defs>
                    <path d="M3 12l6-5 6 5v8a1 1 0 01-1 1H4a1 1 0 01-1-1v-8z" fill="url(#goal-imp-teal)" opacity="0.4"/>
                    <rect x="5" y="14" width="4" height="5" rx="0.5" fill="#fff" opacity="0.5"/>
                    <rect x="14" y="4" width="6" height="4" rx="1" fill="url(#goal-imp-pink)"/>
                    <path d="M17 8v4" stroke="#1d3557" stroke-width="1.5"/>
                    <rect x="15" y="12" width="4" height="8" rx="1" fill="url(#goal-imp-teal)"/>
                    <circle cx="17" cy="14" r="0.5" fill="#fff" opacity="0.5"/>
                    <circle cx="20" cy="9" r="0.6" fill="url(#goal-imp-gold)"/>
                    <circle cx="2" cy="8" r="0.5" fill="url(#goal-imp-gold)"/>
                  </svg>
                </div>
                <div class="goal-content">
                  <span class="goal-name">Home Improvements</span>
                  <span class="goal-desc">Upgrade your living space</span>
                </div>
                <div class="goal-target-wrap">
                  <span class="goal-target-label">Target</span>
                  <div class="goal-input-wrap">
                    <span>£</span>
                    <input type="number" min="0" placeholder="8000" data-goal-target />
                  </div>
                </div>
              </label>
            </div>

            <div class="screen-actions">
              <button class="btn ghost" type="button" data-back>Back</button>
              <button class="btn primary" type="button" data-next>
                Generate My Plan
              </button>
            </div>
          </div>
        </section>

        <section class="screen" data-screen="plan">
          <div class="screen-card plan-summary-card">
            <div class="plan-header">
              <div class="plan-checkmark">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                  <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
              </div>
              <h2>Your plan is ready, <span data-summary-name>Friend</span>!</h2>
              <p class="muted">
                Based on your income, expenses, and goals, here's your personalised financial roadmap.
              </p>
            </div>

            <div class="plan-grid">
              <div class="plan-card highlight">
                <p class="card-title">Monthly Surplus</p>
                <p class="card-value" data-summary-surplus>£0</p>
                <p class="muted">Available for goals after expenses</p>
              </div>
              <div class="plan-card">
                <p class="card-title">Buffer Status</p>
                <p class="card-value" data-summary-buffer>0 months</p>
                <p class="muted">Emergency fund coverage</p>
              </div>
              <div class="plan-card">
                <p class="card-title">Goals Active</p>
                <p class="card-value" data-summary-goals>0 goals</p>
                <p class="muted" data-summary-next>Add goals to start tracking</p>
              </div>
            </div>

            <div class="plan-actions">
              <div class="action-preview">
                <h3>Your Next Steps</h3>
                <ul class="action-list" data-summary-actions>
                  <li>Set up automatic transfers to your goals</li>
                  <li>Review your emergency fund target</li>
                  <li>Explore investment options for long-term goals</li>
                </ul>
              </div>
              <button class="btn primary large" type="button" data-go="app">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 3v18M21 9H3M21 15H3"/>
                </svg>
                Enter Dashboard
              </button>
            </div>
            <div class="screen-actions">
              <button class="btn ghost" type="button" data-back>Back</button>
            </div>
          </div>
        </section>

        <section class="screen" data-screen="app">
          <div class="app-shell">
            <header class="app-header">
              <div>
                <p class="app-greeting">
                  Welcome back, <span data-user-name>Friend</span>
                </p>
                <p class="muted">Your financial command center</p>
              </div>
              <div class="status-pill">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                </svg>
                Score <span data-app-confidence>80</span>
              </div>
            </header>

            <nav class="app-tabs" aria-label="Primary">
              <button class="nav-item is-active" type="button" data-tab-target="home">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24">
                  <defs>
                    <linearGradient id="nav-home-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                    </linearGradient>
                    <linearGradient id="nav-home-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                    </linearGradient>
                    <linearGradient id="nav-home-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                    </linearGradient>
                  </defs>
                  <path d="M3 10.5L12 3l9 7.5V20a2 2 0 01-2 2H5a2 2 0 01-2-2v-9.5z" fill="url(#nav-home-teal)" opacity="0.9"/>
                  <rect x="10" y="15" width="4" height="5" rx="0.5" fill="url(#nav-home-gold)" opacity="0.8"/>
                  <path d="M18 4v3" stroke="url(#nav-home-pink)" stroke-width="2" stroke-linecap="round"/>
                  <ellipse cx="18" cy="2.5" rx="1.5" ry="1" fill="url(#nav-home-pink)" opacity="0.6"/>
                  <circle cx="7" cy="11" r="1.5" fill="url(#nav-home-gold)" opacity="0.8"/>
                </svg>
                Home
              </button>
              <button class="nav-item" type="button" data-tab-target="plan">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24">
                  <defs>
                    <linearGradient id="nav-plan-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                    </linearGradient>
                    <linearGradient id="nav-plan-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                    </linearGradient>
                    <linearGradient id="nav-plan-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                    </linearGradient>
                  </defs>
                  <circle cx="12" cy="11" r="7" fill="url(#nav-plan-teal)" opacity="0.3"/>
                  <circle cx="12" cy="11" r="6" stroke="url(#nav-plan-teal)" stroke-width="1.5" fill="none"/>
                  <path d="M8 20h8l-1-3H9l-1 3z" fill="url(#nav-plan-gold)"/>
                  <rect x="7" y="20" width="10" height="2" rx="1" fill="url(#nav-plan-gold)" opacity="0.8"/>
                  <circle cx="10" cy="9" r="1" fill="#fff" opacity="0.9"/>
                  <path d="M9 13l2-3 2 2 2-4" stroke="url(#nav-plan-pink)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <circle cx="6" cy="6" r="1" fill="url(#nav-plan-gold)"/>
                  <circle cx="18" cy="7" r="0.7" fill="url(#nav-plan-gold)"/>
                </svg>
                Plan
              </button>
              <button class="nav-item" type="button" data-tab-target="goals">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24">
                  <defs>
                    <linearGradient id="nav-goals-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                    </linearGradient>
                    <linearGradient id="nav-goals-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                    </linearGradient>
                    <linearGradient id="nav-goals-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                    </linearGradient>
                  </defs>
                  <circle cx="12" cy="12" r="9" fill="url(#nav-goals-pink)" opacity="0.2"/>
                  <circle cx="12" cy="12" r="6" fill="#fff" opacity="0.5"/>
                  <circle cx="12" cy="12" r="3" fill="url(#nav-goals-pink)"/>
                  <path d="M19 5l-6 6" stroke="url(#nav-goals-teal)" stroke-width="2" stroke-linecap="round"/>
                  <path d="M19 5l-3 0.5 0.5 2.5" fill="url(#nav-goals-teal)"/>
                  <circle cx="5" cy="5" r="1" fill="url(#nav-goals-gold)"/>
                  <circle cx="19" cy="18" r="0.8" fill="url(#nav-goals-gold)"/>
                </svg>
                Goals
              </button>
              <button class="nav-item" type="button" data-tab-target="rewards">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24">
                  <defs>
                    <linearGradient id="nav-rewards-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                    </linearGradient>
                    <linearGradient id="nav-rewards-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                    </linearGradient>
                    <linearGradient id="nav-rewards-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                    </linearGradient>
                  </defs>
                  <path d="M8 21h8M12 17v4" stroke="url(#nav-rewards-gold)" stroke-width="2" stroke-linecap="round"/>
                  <path d="M7 4h10v7a5 5 0 01-10 0V4z" fill="url(#nav-rewards-gold)"/>
                  <path d="M7 4H5a2 2 0 00-2 2v1a3 3 0 003 3h1" fill="url(#nav-rewards-gold)" opacity="0.7"/>
                  <path d="M17 4h2a2 2 0 012 2v1a3 3 0 01-3 3h-1" fill="url(#nav-rewards-gold)" opacity="0.7"/>
                  <ellipse cx="12" cy="4" rx="4" ry="1" fill="#fff" opacity="0.4"/>
                  <circle cx="5" cy="2" r="1" fill="url(#nav-rewards-pink)"/>
                  <circle cx="19" cy="3" r="0.8" fill="url(#nav-rewards-teal)"/>
                  <rect x="6" y="1" width="1.5" height="3" rx="0.5" fill="url(#nav-rewards-teal)" transform="rotate(-20 6 2)"/>
                </svg>
                Rewards
              </button>
              <button class="nav-item" type="button" data-tab-target="family">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24">
                  <defs>
                    <linearGradient id="nav-family-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                    </linearGradient>
                    <linearGradient id="nav-family-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                    </linearGradient>
                    <linearGradient id="nav-family-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                    </linearGradient>
                  </defs>
                  <circle cx="12" cy="6" r="3" fill="url(#nav-family-teal)"/>
                  <path d="M12 10c-4 0-6 2-6 5v3h12v-3c0-3-2-5-6-5z" fill="url(#nav-family-teal)" opacity="0.8"/>
                  <circle cx="5" cy="9" r="2.5" fill="url(#nav-family-pink)"/>
                  <path d="M5 12c-2.5 0-4 1.5-4 4v2h5v-4c0-1 0.5-2 1-2h-2z" fill="url(#nav-family-pink)" opacity="0.8"/>
                  <circle cx="19" cy="9" r="2.5" fill="url(#nav-family-gold)"/>
                  <path d="M19 12c2.5 0 4 1.5 4 4v2h-5v-4c0-1-0.5-2-1-2h2z" fill="url(#nav-family-gold)" opacity="0.8"/>
                  <circle cx="12" cy="5.5" r="0.5" fill="#fff" opacity="0.6"/>
                </svg>
                Family
              </button>
              <button class="nav-item" type="button" data-tab-target="profile">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24">
                  <defs>
                    <linearGradient id="nav-profile-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                    </linearGradient>
                    <linearGradient id="nav-profile-navy" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" stop-color="#3b82f6"/><stop offset="100%" stop-color="#1d3557"/>
                    </linearGradient>
                  </defs>
                  <circle cx="12" cy="12" r="10" fill="url(#nav-profile-navy)" opacity="0.1"/>
                  <circle cx="12" cy="9" r="4" fill="url(#nav-profile-teal)"/>
                  <path d="M4 20c0-4 3.5-7 8-7s8 3 8 7" fill="url(#nav-profile-teal)" opacity="0.8"/>
                  <circle cx="10.5" cy="8" r="0.7" fill="#1d3557"/>
                  <circle cx="13.5" cy="8" r="0.7" fill="#1d3557"/>
                  <path d="M10 10.5q2 1.5 4 0" stroke="#1d3557" stroke-width="0.8" stroke-linecap="round" fill="none"/>
                  <circle cx="10.7" cy="7.8" r="0.25" fill="#fff"/>
                  <circle cx="13.7" cy="7.8" r="0.25" fill="#fff"/>
                </svg>
                Profile
              </button>
            </nav>

            <div class="tab-panel is-active" data-tab="home">
              <div class="panel-grid">
                <div class="panel-card metric-card">
                  <div class="metric-icon surplus-icon">
                    <svg width="28" height="28" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="metric-surplus-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                        <linearGradient id="metric-surplus-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                        </linearGradient>
                      </defs>
                      <circle cx="8" cy="16" r="3" fill="url(#metric-surplus-gold)"/>
                      <text x="8" y="17.5" font-family="Arial" font-size="3.5" font-weight="bold" fill="#92400e" text-anchor="middle">£</text>
                      <circle cx="12" cy="12" r="3" fill="url(#metric-surplus-gold)" opacity="0.9"/>
                      <circle cx="16" cy="8" r="3" fill="url(#metric-surplus-gold)" opacity="0.8"/>
                      <path d="M6 10l4-4 4 4 4-4" stroke="url(#metric-surplus-teal)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <circle cx="18" cy="4" r="0.8" fill="url(#metric-surplus-teal)"/>
                    </svg>
                  </div>
                  <p class="card-title">Monthly Surplus</p>
                  <p class="card-value" data-app-surplus>£0</p>
                  <p class="muted">Auto-allocated to goals</p>
                </div>
                <div class="panel-card metric-card">
                  <div class="metric-icon buffer-icon">
                    <svg width="28" height="28" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="metric-buffer-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                        </linearGradient>
                        <linearGradient id="metric-buffer-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                      </defs>
                      <path d="M12 2l8 4v6c0 5.5-3.5 10-8 12-4.5-2-8-6.5-8-12V6l8-4z" fill="url(#metric-buffer-teal)"/>
                      <path d="M12 7l-2 2a2 2 0 103 3 2 2 0 103-3l-4-2z" fill="url(#metric-buffer-pink)"/>
                      <circle cx="6" cy="5" r="0.6" fill="url(#metric-buffer-pink)"/>
                      <circle cx="18" cy="6" r="0.5" fill="url(#metric-buffer-pink)"/>
                    </svg>
                  </div>
                  <p class="card-title">Buffer Health</p>
                  <p class="card-value" data-app-buffer>0 months</p>
                  <p class="muted">Target: 3-6 months</p>
                </div>
                <div class="panel-card metric-card">
                  <div class="metric-icon score-icon">
                    <svg width="28" height="28" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="metric-score-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                        <linearGradient id="metric-score-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                        </linearGradient>
                        <linearGradient id="metric-score-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                      </defs>
                      <circle cx="12" cy="14" r="8" fill="url(#metric-score-teal)" opacity="0.2"/>
                      <path d="M4 14a8 8 0 0116 0" fill="none" stroke="url(#metric-score-teal)" stroke-width="3" stroke-linecap="round"/>
                      <path d="M4 14a8 8 0 0112.5-1" fill="none" stroke="url(#metric-score-gold)" stroke-width="3" stroke-linecap="round"/>
                      <circle cx="12" cy="14" r="2" fill="url(#metric-score-gold)"/>
                      <path d="M12 14l4-5" stroke="url(#metric-score-pink)" stroke-width="2" stroke-linecap="round"/>
                      <circle cx="18" cy="6" r="1" fill="url(#metric-score-gold)"/>
                      <circle cx="6" cy="8" r="0.6" fill="url(#metric-score-pink)"/>
                    </svg>
                  </div>
                  <p class="card-title">Financial Score</p>
                  <p class="card-value">
                    <span data-confidence-total>80</span> / 100
                  </p>
                  <div class="confidence-breakdown">
                    <div class="confidence-row">
                      <span>Base</span>
                      <span data-confidence-base>50</span>
                    </div>
                    <div class="confidence-row">
                      <span>Buffer</span>
                      <span data-confidence-buffer>+0</span>
                    </div>
                    <div class="confidence-row">
                      <span>Goals</span>
                      <span data-confidence-goals>+0</span>
                    </div>
                    <div class="confidence-row">
                      <span>Cashflow</span>
                      <span data-confidence-cashflow>+0</span>
                    </div>
                    <div class="confidence-row">
                      <span>Debt</span>
                      <span data-confidence-debt>0</span>
                    </div>
                  </div>
                </div>
                <div class="panel-card metric-card">
                  <div class="metric-icon rewards-icon">
                    <svg width="28" height="28" viewBox="0 0 24 24">
                      <defs>
                        <linearGradient id="metric-reward-gold" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#fcd34d"/><stop offset="100%" stop-color="#f59e0b"/>
                        </linearGradient>
                        <linearGradient id="metric-reward-pink" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#f472b6"/><stop offset="100%" stop-color="#ec4899"/>
                        </linearGradient>
                        <linearGradient id="metric-reward-teal" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" stop-color="#5eead4"/><stop offset="100%" stop-color="#2a9d8f"/>
                        </linearGradient>
                      </defs>
                      <circle cx="12" cy="10" r="7" fill="url(#metric-reward-gold)"/>
                      <path d="M8 21l4-3 4 3V12H8v9z" fill="url(#metric-reward-pink)"/>
                      <path d="M12 5l1.5 3h3l-2.5 2 1 3-3-2-3 2 1-3-2.5-2h3z" fill="#fff" opacity="0.9"/>
                      <circle cx="5" cy="5" r="0.8" fill="url(#metric-reward-teal)"/>
                      <circle cx="19" cy="6" r="0.6" fill="url(#metric-reward-teal)"/>
                      <circle cx="4" cy="15" r="0.5" fill="url(#metric-reward-pink)"/>
                    </svg>
                  </div>
                  <p class="card-title">Rewards</p>
                  <p class="card-value">
                    <span data-rewards-points>620</span> pts
                  </p>
                  <p class="muted">Keep saving to earn more!</p>
                </div>
              </div>

              <div class="panel-row">
                <div class="panel-card dashboard-builder">
                  <h3>Dashboard Builder</h3>
                  <p class="muted">Customise your view</p>
                  <div class="toggle-grid">
                    <label class="toggle-pill">
                      <input type="checkbox" data-dashboard-toggle value="cashflow" checked />
                      <span>Cash Flow</span>
                    </label>
                    <label class="toggle-pill">
                      <input type="checkbox" data-dashboard-toggle value="alerts" checked />
                      <span>Alerts</span>
                    </label>
                    <label class="toggle-pill">
                      <input type="checkbox" data-dashboard-toggle value="vulnerabilities" checked />
                      <span>Risk Radar</span>
                    </label>
                    <label class="toggle-pill">
                      <input type="checkbox" data-dashboard-toggle value="quickwins" checked />
                      <span>Quick Wins</span>
                    </label>
                    <label class="toggle-pill">
                      <input type="checkbox" data-dashboard-toggle value="spark" checked />
                      <span>Daily Tip</span>
                    </label>
                  </div>
                </div>
                <div class="panel-card">
                  <h3>Income vs Expenses</h3>
                  <div class="bar-compare">
                    <div class="bar-track">
                      <span>Income</span>
                      <div class="bar-fill income" data-income-bar>
                        <span data-income-label>£0</span>
                      </div>
                    </div>
                    <div class="bar-track">
                      <span>Expenses</span>
                      <div class="bar-fill expense" data-expense-bar>
                        <span data-expense-label>£0</span>
                      </div>
                    </div>
                    <div class="bar-track">
                      <span>Savings</span>
                      <div class="bar-fill saving" data-saving-bar>
                        <span data-saving-label>£0</span>
                      </div>
                    </div>
                  </div>
                  <p class="muted" data-income-summary>
                    Balance your income and expenses for financial health.
                  </p>
                </div>
              </div>

              <div class="dashboard-grid" data-dashboard-grid>
                <div class="panel-card wide" data-widget="cashflow">
                  <div class="panel-head">
                    <div>
                      <h3>Cash Flow Forecast</h3>
                      <p class="muted">
                        Track your projected balance over time
                      </p>
                    </div>
                    <div class="scenario-controls">
                      <label>
                        Scenario
                        <select data-scenario-select>
                          <option value="baseline" selected>Baseline</option>
                          <option value="optimistic">Optimistic</option>
                          <option value="conservative">Conservative</option>
                          <option value="stress">Stress Test</option>
                          <option value="custom">Custom</option>
                        </select>
                      </label>
                      <label>
                        Months
                        <input type="number" min="6" max="36" value="12" data-cashflow-months />
                      </label>
                    </div>
                  </div>
                  <div class="scenario-custom" data-scenario-custom>
                    <label>
                      Income change (%)
                      <input type="number" step="0.5" value="0" data-scenario-income />
                    </label>
                    <label>
                      Expense change (%)
                      <input type="number" step="0.5" value="0" data-scenario-expense />
                    </label>
                  </div>
                  <div class="chart-wrap" data-cashflow-chart></div>
                  <div class="chart-legend">
                    <span class="legend-item">
                      <span class="legend-dot balance"></span>
                      Projected Balance
                    </span>
                    <span class="legend-item">
                      <span class="legend-dot net positive"></span>
                      Monthly Surplus
                    </span>
                    <span class="legend-item">
                      <span class="legend-dot net negative"></span>
                      Monthly Deficit
                    </span>
                  </div>
                  <div class="chart-metrics">
                    <div class="chart-metric">
                      <p class="metric-label">Avg Monthly</p>
                      <p class="metric-value" data-cashflow-average>£0</p>
                    </div>
                    <div class="chart-metric">
                      <p class="metric-label">Lowest Point</p>
                      <p class="metric-value" data-cashflow-low>£0</p>
                    </div>
                    <div class="chart-metric">
                      <p class="metric-label">Risk Months</p>
                      <p class="metric-value" data-cashflow-risk>0</p>
                    </div>
                  </div>
                </div>

                <div class="panel-card smart-alerts-card" data-widget="alerts" role="region" aria-label="Smart Alerts">
                  <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                      <path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/>
                    </svg>
                    Smart Alerts
                    <span class="alert-badge" data-alert-count aria-label="Alert count"></span>
                  </h3>
                  <ul class="alert-list" data-alert-list role="list" aria-live="polite"></ul>
                </div>

                <div class="panel-card bills-card" data-widget="bills">
                  <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/>
                    </svg>
                    Recurring Bills
                  </h3>
                  <div class="bills-summary">
                    <span class="bills-label">Monthly total</span>
                    <span class="bills-total" data-bills-total>£0</span>
                  </div>
                  <ul class="bills-list" data-bills-list></ul>
                  <button type="button" class="btn small outline" data-add-bill>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
                    </svg>
                    Add Bill
                  </button>
                </div>

                <div class="panel-card statement-import-card" data-widget="statements" role="region" aria-label="Bank Statement Import">
                  <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                      <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/>
                    </svg>
                    Import Statement
                  </h3>
                  <p class="muted" style="margin-bottom: 12px;">Auto-categorize transactions from your bank</p>
                  <div class="statement-drop-zone" data-statement-dropzone>
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/>
                    </svg>
                    <p>Drop CSV file here or</p>
                    <label class="btn small outline">
                      Browse
                      <input type="file" accept=".csv" data-statement-file hidden />
                    </label>
                  </div>
                  <div class="statement-preview" data-statement-preview style="display: none;">
                    <div class="statement-summary">
                      <div class="statement-stat">
                        <span class="stat-label">Transactions</span>
                        <span class="stat-value" data-statement-count>0</span>
                      </div>
                      <div class="statement-stat">
                        <span class="stat-label">Income</span>
                        <span class="stat-value positive" data-statement-income>£0</span>
                      </div>
                      <div class="statement-stat">
                        <span class="stat-label">Spending</span>
                        <span class="stat-value negative" data-statement-spending>£0</span>
                      </div>
                    </div>
                    <div class="statement-categories" data-statement-categories></div>
                    <div class="statement-actions">
                      <button type="button" class="btn small outline" data-statement-clear>Clear</button>
                      <button type="button" class="btn small primary" data-statement-apply>Apply to Budget</button>
                    </div>
                  </div>
                </div>

                <div class="panel-card protection-check-card" data-widget="vulnerabilities" data-protection-check>
                  <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    Protection Check
                  </h3>

                  <div class="protection-gauge">
                    <div class="gauge-ring">
                      <svg viewBox="0 0 100 100">
                        <circle class="gauge-bg" cx="50" cy="50" r="42" />
                        <circle class="gauge-fill" cx="50" cy="50" r="42" data-protection-gauge-fill />
                      </svg>
                      <div class="gauge-center">
                        <span class="gauge-value" data-protection-score>0</span>
                        <span class="gauge-max">/100</span>
                      </div>
                    </div>
                    <p class="protection-label" data-protection-label>Calculating...</p>
                  </div>

                  <div class="protection-categories" data-protection-categories>
                  </div>

                  <div class="protection-section">
                    <h4>Issues</h4>
                    <ul class="protection-issues" data-protection-issues></ul>
                  </div>

                  <div class="protection-section">
                    <h4>Recommendations</h4>
                    <ul class="protection-tips" data-protection-tips></ul>
                  </div>
                </div>

                <div class="panel-card quick-actions-card" data-widget="quickwins">
                  <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                    </svg>
                    One-Click Actions
                  </h3>
                  <p class="muted" style="margin-bottom: 16px;">Quick financial moves with one tap</p>
                  <div class="quick-actions-grid" data-quick-actions>
                    <!-- Dynamically populated -->
                  </div>
                </div>

                <div class="panel-card" data-widget="spark">
                  <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    Daily Money Tip
                  </h3>
                  <p class="spark-quote">
                    "Small upgrades beat big delays. Increase your auto-save by 1% today."
                  </p>
                  <p class="muted">Personalized to your goals</p>
                </div>
              </div>
            </div>

            <div class="tab-panel" data-tab="plan">
              <div class="panel-grid">
                <div class="panel-card">
                  <h3>Future Lab</h3>
                  <p class="muted">
                    AI-powered scenario planning
                  </p>
                  <div class="chat-stack" data-future-chat>
                    <div class="chat-bubble">
                      <p class="chat-title">You</p>
                      <p data-future-user>Can we pause investing for 6 months?</p>
                    </div>
                    <div class="chat-bubble response">
                      <p class="chat-title">Consumer Pay</p>
                      <p data-future-response>
                        That delays your goal by 4 months, but keeps the buffer
                        intact. Want to see alternatives?
                      </p>
                    </div>
                  </div>
                  <div class="future-form" data-future-form>
                    <label>
                      Ask a question
                      <textarea rows="2" placeholder="e.g. What if I pause investing for 6 months?" data-future-question></textarea>
                    </label>
                    <div class="future-grid">
                      <label>
                        Scenario type
                        <select data-future-type>
                          <option value="pause_investing" selected>Pause contributions</option>
                          <option value="income_drop">Income drop</option>
                          <option value="income_boost">Income boost</option>
                          <option value="expense_spike">Expense spike</option>
                          <option value="one_off">One-off expense</option>
                        </select>
                      </label>
                      <label>
                        <span data-future-months-label>Duration (months)</span>
                        <input type="number" min="1" max="24" value="6" data-future-months />
                      </label>
                      <label>
                        <span data-future-amount-label>Amount (£)</span>
                        <input type="number" min="0" step="50" value="250" data-future-amount />
                      </label>
                    </div>
                    <button class="btn secondary" type="button" data-future-run>
                      Run Scenario
                    </button>
                  </div>
                  <div class="future-output">
                    <p class="card-title">Scenario Impact</p>
                    <p class="muted" data-future-summary>
                      Update the fields to simulate your scenario.
                    </p>
                    <div class="chart-metrics future-metrics">
                      <div>
                        <p class="metric-label">Balance Impact</p>
                        <p class="metric-value" data-future-balance>£0</p>
                      </div>
                      <div>
                        <p class="metric-label">Risk Months</p>
                        <p class="metric-value" data-future-risk>0</p>
                      </div>
                      <div>
                        <p class="metric-label">Goal Timing</p>
                        <p class="metric-value" data-future-delay>--</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="panel-card monte-panel">
                  <h3>Monte Carlo Simulator</h3>
                  <p class="muted">Run thousands of scenarios to see your probability of success</p>
                  <form class="monte-form monte-grid" data-monte-form>
                    <label>
                      Starting balance
                      <input type="number" min="0" step="100" value="2500" data-monte-start />
                    </label>
                    <label>
                      Monthly contribution
                      <input type="number" min="1" value="350" data-monte-monthly />
                    </label>
                    <label>
                      Contribution growth (%/yr)
                      <input type="number" step="0.1" value="2" data-monte-growth />
                    </label>
                    <label>
                      Years
                      <input type="number" min="1" max="40" value="20" data-monte-years />
                    </label>
                    <label>
                      Risk profile
                      <select data-monte-risk>
                        <option value="cautious">Cautious</option>
                        <option value="balanced" selected>Balanced</option>
                        <option value="growth">Growth</option>
                        <option value="custom">Custom</option>
                      </select>
                    </label>
                    <label>
                      Expected return (%)
                      <input type="number" step="0.1" value="6" data-monte-return />
                    </label>
                    <label>
                      Volatility (%)
                      <input type="number" step="0.1" value="10" data-monte-vol />
                    </label>
                    <label>
                      Inflation (%)
                      <input type="number" step="0.1" value="2.5" data-monte-inflation />
                    </label>
                    <label>
                      Annual fee (%)
                      <input type="number" step="0.1" value="0.6" data-monte-fee />
                    </label>
                    <label>
                      Target value
                      <input type="number" min="0" step="100" value="100000" data-monte-target />
                    </label>
                    <label>
                      Simulations
                      <input type="number" min="100" max="5000" step="50" value="500" data-monte-runs />
                    </label>
                    <button class="btn primary full" type="button" data-monte-run>
                      Run Simulation
                    </button>
                  </form>
                  <div class="monte-results">
                    <div class="monte-output" data-monte-output>
                      Projected range: £0 - £0
                    </div>
                    <div class="monte-stats">
                      <div>
                        <p class="metric-label">Simulations</p>
                        <p class="metric-value" data-monte-sims>500</p>
                      </div>
                      <div>
                        <p class="metric-label">Hit Target</p>
                        <p class="metric-value" data-monte-hit>0%</p>
                      </div>
                      <div>
                        <p class="metric-label">Real Return</p>
                        <p class="metric-value" data-monte-real>0%</p>
                      </div>
                    </div>
                    <p class="muted" data-assumptions-updated>Assumptions updated: --</p>
                    <div class="monte-chart-wrap">
                      <h4>Distribution of Outcomes</h4>
                      <div class="monte-bars" data-monte-bars></div>
                      <div class="monte-percentiles">
                        <span class="percentile p10" data-monte-p10>10th: £0</span>
                        <span class="percentile p50" data-monte-p50>50th: £0</span>
                        <span class="percentile p90" data-monte-p90>90th: £0</span>
                      </div>
                    </div>
                    <div class="monte-report" data-monte-report style="display: none;">
                      <h4>Simulation Report</h4>
                      <div class="report-content" data-report-content></div>
                      <button class="btn ghost" type="button" data-download-report>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                        </svg>
                        Download Report
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="panel-row">
                <div class="panel-card converter-card">
                  <h3>Currency Converter</h3>
                  <label>
                    Amount
                    <input type="number" min="0" value="120" data-converter-amount />
                  </label>
                  <div class="converter-row">
                    <label>
                      From
                      <select data-converter-from>
                        <option value="GBP">GBP</option>
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                        <option value="NGN">NGN</option>
                        <option value="GHS">GHS</option>
                        <option value="ZAR">ZAR</option>
                        <option value="KES">KES</option>
                        <option value="CAD">CAD</option>
                      </select>
                    </label>
                    <button class="swap" type="button" aria-label="Swap currencies" data-converter-swap>
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="17 1 21 5 17 9"/><path d="M3 11V9a4 4 0 014-4h14"/>
                        <polyline points="7 23 3 19 7 15"/><path d="M21 13v2a4 4 0 01-4 4H3"/>
                      </svg>
                    </button>
                    <label>
                      To
                      <select data-converter-to>
                        <option value="USD">USD</option>
                        <option value="GBP">GBP</option>
                        <option value="EUR">EUR</option>
                        <option value="NGN">NGN</option>
                        <option value="GHS">GHS</option>
                        <option value="ZAR">ZAR</option>
                        <option value="KES">KES</option>
                        <option value="CAD">CAD</option>
                      </select>
                    </label>
                  </div>
                  <div class="converter-output" data-converter-output></div>
                  <p class="muted" data-fx-updated>Rates updated: --</p>
                </div>
                <div class="panel-card">
                  <h3>Value Finder</h3>
                  <p>
                    We alert you to better value on big purchases and surface hidden fees.
                  </p>
                  <div class="pill-row">
                    <span>Lost balance scan</span>
                    <span>Income booster</span>
                    <span>Price alerts</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="tab-panel" data-tab="goals">
              <div class="panel-card">
                <h3>Your Active Goals</h3>
                <p class="muted">
                  Edit targets and track your progress towards financial freedom.
                </p>
                <div class="goal-list" data-app-goals></div>
              </div>
              <div class="panel-card motivation-card">
                <h3>Stay Motivated</h3>
                <p>
                  Set shared family milestones and celebrate your wins together.
                </p>
                <div class="progress">
                  <span style="width: 65%"></span>
                </div>
                <p class="muted">You're 65% closer to your first milestone!</p>
              </div>
            </div>

            <div class="tab-panel" data-tab="rewards">
              <div class="panel-grid rewards-grid">
                <div class="panel-card rewards-level-card">
                  <div class="level-header">
                    <div class="level-badge" data-rewards-level-badge>
                      <span class="level-number" data-rewards-level>1</span>
                    </div>
                    <div class="level-info">
                      <h3 data-rewards-level-name>Starter</h3>
                      <p class="level-points"><span data-rewards-points>0</span> points</p>
                    </div>
                  </div>
                  <div class="level-progress-bar">
                    <div class="level-progress-fill" data-rewards-level-progress></div>
                  </div>
                  <p class="level-progress-text" data-rewards-level-info>0 / 200 pts to Bronze</p>
                </div>

                <div class="panel-card rewards-streak-card">
                  <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M8.5 14.5A2.5 2.5 0 0011 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 11-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 002.5 2.5z"/>
                    </svg>
                    Daily Streak
                  </h3>
                  <p class="streak-value"><span data-rewards-streak>0</span> days</p>
                  <div class="streak-display" data-rewards-streak-display></div>
                  <p class="muted">Check in daily for bonus points!</p>
                </div>

                <div class="panel-card rewards-badges-card">
                  <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="8" r="6"/><path d="M15.477 12.89L17 22l-5-3-5 3 1.523-9.11"/>
                    </svg>
                    Achievements
                  </h3>
                  <div class="badges-grid" data-rewards-badges></div>
                </div>

                <div class="panel-card rewards-offers-card">
                  <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M20 12v10H4V12"/><path d="M2 7h20v5H2z"/><path d="M12 22V7"/><path d="M12 7H7.5a2.5 2.5 0 010-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 000-5C13 2 12 7 12 7z"/>
                    </svg>
                    Partner Offers
                  </h3>
                  <p class="muted">Redeem your points for exclusive rewards</p>
                  <div class="offers-grid" data-rewards-offers></div>
                </div>
              </div>
            </div>

            <div class="tab-panel" data-tab="family">
              <div class="panel-grid">
                <div class="panel-card">
                  <h3>Shared Goals</h3>
                  <p>
                    Invite family members and work towards common goals together.
                  </p>
                  <div class="pill-row">
                    <span>Family trip</span>
                    <span>Education fund</span>
                    <span>Home upgrades</span>
                  </div>
                </div>
                <div class="panel-card">
                  <h3>Family Vault</h3>
                  <p>
                    Store and share important documents securely.
                  </p>
                  <button class="btn secondary" type="button">
                    Add Family Member
                  </button>
                </div>
                <div class="panel-card">
                  <h3>Learning Together</h3>
                  <p>
                    Make financial planning fun with shared lessons.
                  </p>
                  <p class="muted">Next family check-in: Sunday 7pm</p>
                </div>
              </div>
            </div>

            <div class="tab-panel" data-tab="profile">
              <div class="panel-grid">
                <div class="panel-card">
                  <h3>Money Persona</h3>
                  <p class="card-value" data-profile-persona>Builder</p>
                  <p class="muted" data-profile-copy>
                    Structure and automation keep you on track.
                  </p>
                  <div class="persona-tags" data-profile-tags></div>
                </div>
                <div class="panel-card">
                  <h3>Update Your Details</h3>
                  <p class="muted">
                    Changes here refresh all calculations.
                  </p>
                  <div class="form-grid compact">
                    <label>
                      Annual Salary
                      <input type="number" min="0" data-field="annualSalary" />
                    </label>
                    <label>
                      Total Savings
                      <input type="number" min="0" data-field="savings" />
                    </label>
                    <label>
                      Rewards Points
                      <input type="number" min="0" data-field="rewardPoints" />
                    </label>
                    <label>
                      Streak Days
                      <input type="number" min="0" data-field="rewardStreak" />
                    </label>
                  </div>
                </div>
                <div class="panel-card">
                  <h3>Learning Feed</h3>
                  <p class="spark-quote">
                    "Build the buffer first. Then invest with confidence."
                  </p>
                  <p class="muted">Matched to your focus area</p>
                </div>
                <div class="panel-card">
                  <h3>Protection Check</h3>
                  <p>
                    Review your family coverage gaps.
                  </p>
                  <button class="btn secondary" type="button">
                    Start Review
                  </button>
                </div>
              </div>
            </div>

          </div>
        </section>
      </main>
    </div>

    <!-- Action Result Modal -->
    <div class="action-modal-overlay" data-action-modal style="display: none;" role="dialog" aria-modal="true" aria-labelledby="action-modal-title">
      <div class="action-modal">
        <div class="action-modal-icon" data-action-modal-icon aria-hidden="true">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
            <polyline points="22 4 12 14.01 9 11.01"/>
          </svg>
        </div>
        <h3 id="action-modal-title" data-action-modal-title>Action Complete</h3>
        <p data-action-modal-message></p>
        <div class="action-modal-details" data-action-modal-details></div>
        <button type="button" class="btn btn-primary" data-action-modal-close>Got it</button>
      </div>
    </div>

    <script src="app-config.js" defer></script>
    <script src="firebase-config.js" defer></script>
    <script src="firebase-init.js" defer></script>
    <script src="app.js" defer></script>
  </body>
</html>
